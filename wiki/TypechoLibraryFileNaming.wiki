#labels Phase-Design
=Typecho库文件命名及存放规范=

==存放位置==
所有的库文件都存放在includes/library目录下。

==命名规范==
一个库文件包括一个主体文件和若干个分文件，主体文件存放在includes/library根目录下。而分文件则存放在*与主文件同名*的目录下。

==类与文件名的关系==
所有的类必须加上前缀Typecho，而文件名则必须去掉前缀且大小写与类名保持一致。比如*TypechoDb*和*Db.php*。

==主文件作用==
===定义基类===
如果需要定义基类，则必须在主文件中定义，且类名与文件名的关系参照前述。

===定义常量===
常量的命名参考如下形式。
{{{
define('__TYPECHO_DB_HOST__', 'localhost');
}}}
最前面是TYPECHO的前缀，中间是库名，最后是常量名，且前后都必须加上双下划线。

===载入分文件===
所有分文件的载入在都在主文件中完成，请参考如下形式
{{{
/** 数据库异常 **/
require_once 'Db/DbException.php';
}}}
库文件的所有载入都使用*require_once*，且使用相对路径载入，这样不需要定义根目录路径。

==异常文件==
每个库都有一个以其库名命名的异常类，这个异常类继承自TypechoException异常基类。